<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Danh sách sản phẩm</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        padding: 20px;
    }

    h1 {
        text-align: center;
        margin-bottom: 20px;
    }

    #searchBox {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        margin-bottom: 20px;
        border: 1px solid #bbb;
        border-radius: 5px;
    }

    #error {
        color: red;
        text-align: center;
        margin-bottom: 10px;
        display: none;
    }

    .product-list {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
    }

    .product {
        background: white;
        border-radius: 8px;
        padding: 15px;
        width: 220px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .product:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .product img {
        width: 100%;
        height: 140px;
        object-fit: cover;
        border-radius: 6px;
        margin-bottom: 10px;
    }
</style>
</head>
<body>

<h1>Danh sách sản phẩm</h1>

<input type="text" id="searchBox" placeholder="Tìm sản phẩm...">

<div id="error">Không tìm thấy sản phẩm!</div>

<div class="product-list" id="productList"></div>

<script>
// ====== 1. Mảng sản phẩm ======
const products = [
    { name: "iPhone 15", image: "https://via.placeholder.com/220x140?text=iPhone+15" },
    { name: "Samsung Galaxy S24", image: "https://via.placeholder.com/220x140?text=Galaxy+S24" },
    { name: "Xiaomi 14", image: "https://via.placeholder.com/220x140?text=Xiaomi+14" },
    { name: "Oppo Reno 11", image: "https://via.placeholder.com/220x140?text=Oppo+Reno+11" },
    { name: "Vivo V30", image: "https://via.placeholder.com/220x140?text=Vivo+V30" }
];

// ====== 2. Hàm render sản phẩm ======
function renderProducts(list) {
    const container = document.getElementById("productList");
    container.innerHTML = ""; // xóa danh sách cũ
    list.forEach(p => {
        container.innerHTML += `
            <div class="product">
                <img src="${p.image}" alt="${p.name}">
                <h3>${p.name}</h3>
            </div>
        `;
    });
}

// Hiển thị tất cả sản phẩm khi load trang
renderProducts(products);

// ====== 3. Tìm kiếm sản phẩm ======
document.getElementById("searchBox").addEventListener("input", function() {
    const keyword = this.value.trim().toLowerCase(); // loại bỏ khoảng trắng + không phân biệt hoa thường

    // Lọc sản phẩm
    const filtered = products.filter(p => p.name.toLowerCase().includes(keyword));

    // Hiển thị thông báo lỗi nếu không tìm thấy
    const errorBox = document.getElementById("error");
    errorBox.style.display = filtered.length ? "none" : "block";

    renderProducts(filtered);
});
</script>

</body>
</html>

 <!-- <p>
Giải thích: 
a) Xử lý input người dùng để tránh lỗi
Dùng .trim() → loại bỏ khoảng trắng thừa đầu/cuối.
Dùng .toLowerCase() → tránh phân biệt hoa thường khi tìm kiếm.
Không chèn input trực tiếp vào HTML → tránh lỗi XSS hay injection. Trong code này, input chỉ dùng để lọc mảng JS → an toàn tuyệt đối.
b) Tối ưu tìm kiếm
Lọc trong mảng JS nhỏ → dùng Array.filter() và includes() → đơn giản, nhanh.
Không reload trang hay query DOM quá nhiều → render toàn bộ sản phẩm bằng JS.
Nếu danh sách lớn → có thể:
Thêm debounce để giảm số lần tìm kiếm khi gõ liên tục.
Dùng thuật toán tìm kiếm nâng cao (ví dụ fuzzy search).
c) Responsive
Dùng Flexbox cho .product-list → sản phẩm tự động xuống dòng khi màn hình nhỏ.
Ảnh .product img dùng object-fit: cover → giữ tỉ lệ đẹp.
 </p> -->
